<script src="plugins/camera/core/template/dashboard/hls-0.13.0.light.min.js"></script>
<div class="eqLogic eqLogic-widget allowResize" data-eqType="#eqType#" data-translate-category="#translate_category#" data-category="#category#" data-tags="#tags#" data-eqLogic_id="#id#" data-eqLogic_uid="#uid#" data-version="#version#" style="min-width : 50px;min-height : 80px ;border:#border#;border-radius:#border-radius#;background-color: #background-color#;color: #color#;width: #width#;height: #height#;#style#" >
  <center class="widget-name">
    <span style="font-size: 1.2em;#hideEqLogicName#"><a href="#eqLink#">#name_display# <span class="object_name">#object_name#</span></a></span>
  </center>
  <center>
    <span class="directDisplay zoom cursor">
     <video id="video-player#id#" data-eqLogic_id="#id#" controls width="320" height="240" preload="none"></video>
    </span>
    <span style="position:absolute;bottom:4px;width:100%;left:0px;">
      <center>
        <span>#info#</span>
      </center>
      <center>
        #action#
        <span class="cmd cmd-widget" data-type="action" data-subtype="other">
          <a class="camera_history btn btn-default btn-sm folder action" data-eqLogic_id="#id#"><i class="fa fa-folder-open"></i></a>
        </span>
      </center>
    </span>
  </center>
  <div class="md_cameraZoom" data-eqLogic_uid="#uid#" data-eqLogic_id="#id#" title="#name_display#">
    <center>
      <div class="display">
      <br/>
      #action#
      <span class="cmd cmd-widget" data-type="action" data-subtype="other">
        <a class="camera_history btn btn-default btn-sm folder action" data-eqLogic_id="#id#"><i class="fa fa-folder-open"></i></a>
      </span>
    </center>
  </div>
  <span class="statusCmd" style="position : absolute;left : 5px;bottom : 0px; width : 30px;z-index: 1030;"></span>
  <script>
			var video = document.getElementById('video-player#id#');
			if(Hls.isSupported()) {
				var hls = new Hls();
				hls.on(Hls.Events.Error, function (event, data) {
					console.log("HLS error: ", event, data);
				});
				hls.attachMedia(video);
				hls.on(Hls.Events.MEDIA_ATTACHED, function() {
					hls.loadSource('#url#');
					hls.on(Hls.Events.MANIFEST_PARSED,function() {
						video.play();
					});
				});
			}
			else if (video.canPlayType('application/vnd.apple.mpegurl')) {
				video.src = '#url#';
				video.addEventListener('loadedmetadata',function() {
					video.play();
				});
			}
		</script>
</div>