<div class="eqLogic eqLogic-widget" data-eqLogic_id="#id#" data-version="mobile" style="padding-top : 3px;">
  <center><a href="#popupCameraZoom#id#" data-rel="popup" data-position-to="window" data-transition="none" class="directDisplay" style="height : 120px;"></a></center>
  <center>
    #action#
  </center>
  <div data-role="popup" id="popupCameraZoom#id#">
    <a href="#" data-rel="back" class="ui-btn ui-corner-all ui-shadow ui-btn-a ui-icon-delete ui-btn-icon-notext ui-btn-right">Close</a>
    <div class="display"></div>
  </div>
  <script>

    function refreshImgCam#id#(){
      var url = "#url#";
      if(url.indexOf('?') > 0){
        url += '&t='+(new Date()).getTime();
      }else{
        url += '?t='+(new Date()).getTime();
      }
      var img = $('<img class="zoom cursor img-responsive" data-eqLogic_id="#id#" style="width:90%"/>').attr('src', url).load(function() {
       $('.eqLogic[data-eqLogic_id=#id#] .directDisplay').empty().append(img);
       var imgFull = img.clone();
       imgFull.css('width','auto');
       imgFull.css('max-width',screen.width);
       imgFull.css('display','block');
       imgFull.css('margin-left','auto');
       imgFull.css('margin-right','auto');
       imgFull.removeClass('zoom');
       $("#popupCameraZoom#id# .display").empty().append(imgFull);
       if($('.eqLogic[data-eqLogic_id=#id#] .directDisplay').html() != undefined){
         timeoutCamera#id# = setTimeout(refreshImgCam#id#, #refreshDelay#);
       }
     });
    };
    if (typeof timeoutCamera#id# !== "undefined") {
      clearTimeout(timeoutCamera#id#);
    }
    refreshImgCam#id#();
  </script>

</div>
